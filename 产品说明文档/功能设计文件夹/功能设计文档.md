# 功能设计文档

## 1. 智能体管理模块

### 1.1 功能描述
智能体管理模块用于管理系统中的AI智能体，支持智能体的创建、编辑、删除和状态管理等功能。

### 1.2 功能结构
- 智能体列表展示
- 新增智能体
- 编辑智能体
- 删除智能体
- 启用/禁用智能体

### 1.3 功能字段

#### 1.3.1 智能体基础信息
| 字段名称 | 字段类型 | 必填 | 描述 | 选项/约束 |
|---------|---------|------|------|----------|
| 智能体名称 | 字符串 | 是 | 智能体的唯一标识名称 | 最大长度100个字符 |
| 智能体类型 | 下拉选择 | 是 | 智能体的技术实现类型 | Dify智能体、阿里云智能体 |
| 平台 | 下拉选择 | 是 | 智能体适用的平台 | PC端、APP端、PC和APP端 |
| 排序 | 数字 | 是 | 智能体在列表中的显示顺序 | 最小值0 |
| 智能体链接 | 字符串 | 否 | 智能体的外部访问链接 | 最大长度500个字符 |
| ai_id | 字符串 | 是 | 智能体的唯一标识ID | 用于API调用 |
| ai_key | 字符串 | 是 | 智能体的访问密钥 | 用于API认证 |
| 角色 | 下拉选择 | 是 | 可访问该智能体的用户角色 | 管理员、编辑、查看者、操作员、经理 |
| 备注 | 文本域 | 否 | 智能体的补充说明信息 | 最大长度500个字符 |
| 状态 | 开关 | 是 | 智能体的启用状态 | 启用/停用 |

### 1.4 功能逻辑关系

#### 1.4.1 交互流程
1. **查看智能体列表**：用户进入智能体管理页面，系统展示所有已创建的智能体列表，包含基本信息和操作按钮。
2. **新增智能体**：点击「新增」按钮，弹出新增智能体对话框，用户填写表单信息，点击「确定」保存，系统创建新智能体并刷新列表。
3. **编辑智能体**：在列表中点击某个智能体的「编辑」按钮，弹出编辑对话框，展示当前智能体信息，用户修改后点击「确定」保存，系统更新智能体信息并刷新列表。
4. **删除智能体**：在列表中点击某个智能体的「删除」按钮，系统弹出确认对话框，用户确认后删除智能体并刷新列表。
5. **启用/禁用智能体**：通过列表中的开关按钮，可以直接切换智能体的启用状态，无需打开编辑对话框。

#### 1.4.2 状态管理
- **启用状态**：智能体处于可用状态，可以接收请求并响应。
- **停用状态**：智能体处于不可用状态，将拒绝所有请求。

### 1.5 数据流向
1. **数据输入**：用户通过表单输入智能体信息。
2. **数据验证**：系统对输入数据进行验证，确保必填项已填写且格式正确。
3. **数据保存**：验证通过后，系统将数据保存到后端存储。
4. **数据展示**：保存成功后，系统更新前端列表，展示最新的智能体信息。

### 1.6 异常处理机制
1. **表单验证失败**：当用户提交的表单数据不符合要求时，系统会在相应字段下方显示错误提示信息，要求用户修正。
2. **保存失败**：当智能体保存操作失败时，系统会显示错误提示信息，告知用户操作失败原因。
3. **删除失败**：当智能体删除操作失败时，系统会显示错误提示信息，告知用户操作失败原因。

## 2. 界面设计规范

### 2.1 整体布局
- 页面顶部：操作按钮区域，包含「新增智能体」按钮。
- 页面主体：智能体列表表格，展示所有智能体的关键信息。
- 弹窗：新增/编辑智能体时使用模态对话框，采用双列布局展示表单字段。

### 2.2 组件样式
- **按钮**：使用Element UI标准按钮，主操作使用蓝色按钮，删除操作使用红色按钮。
- **表格**：使用Element UI标准表格，包含分页功能，支持列排序。
- **表单**：使用Element UI表单组件，采用垂直布局，表单项标签右对齐。
- **输入框**：对于有长度限制的字段，添加字数统计功能。
- **数字输入框**：使用Element UI InputNumber组件，用于排序字段的输入。
- **开关**：使用Element UI开关组件，开启状态显示「启用」，关闭状态显示「停用」。
- **对话框**：使用Element UI模态对话框，标题根据操作类型显示为「添加智能体」或「编辑智能体」。

### 2.3 响应式设计
- 表格在小屏幕设备上支持水平滚动。
- 表单在小屏幕设备上自动调整为单列布局。