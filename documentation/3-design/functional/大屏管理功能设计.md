# 大屏管理功能需求文档

## 1. 功能概述

大屏管理功能允许管理员创建、编辑和管理多种类型的可视化大屏，用于展示不同场景下的数据和信息。

## 2. 功能修改内容

### 2.1 大屏类型扩展

原功能：系统支持5种大屏类型
- 日常版
- 协会版
- 标准版
- 行业版
- 评审版

新功能：扩展至8种大屏类型，增加P1-P8标识便于识别
- 日常版 P1
- 协会简介 P2
- 标准制定 P3
- 行业概况 P4
- 评审工作 P5
- 城市信息 P6（新增）
- 科技奖类 P7（新增）
- 紧急播报 P8（新增）

### 2.2 新增大屏详细描述

#### 2.2.1 城市信息大屏（P6）

**功能描述**：展示城市轨道交通相关数据，包括城市分布、线路总长、客流量等关键指标。

**模块组成**：
- 城市分布统计
- 线路总长排名
- 客流量统计
- 日均客运量
- 城市建设进度
- 运营状况
- 实时数据监控

#### 2.2.2 科技奖类大屏（P7）

**功能描述**：展示科技奖项相关数据，包括奖项概览、类别统计、获奖趋势等信息。

**模块组成**：
- 科技奖概览
- 获奖类别统计
- 历年获奖趋势
- 获奖单位分布
- 重点获奖项目
- 技术创新热点
- 最新获奖信息

#### 2.2.3 紧急播报大屏（P8）

**功能描述**：用于紧急情况下的信息发布和应急响应，采用醒目的红色主题。

**模块组成**：
- 主要紧急信息
- 影响范围
- 应急措施
- 实时更新

### 2.3 现有功能优化

- 修改默认大屏（日常版）标题，从"中国城市轨道交通协会"更改为"日常版大屏"，更明确地标识大屏类型
- 在大屏列表页面的筛选下拉菜单中更新大屏类型选项，包含所有8种大屏类型
- 在大屏内容渲染逻辑中添加对新大屏类型的支持

## 3. 技术实现细节

### 3.1 数据结构修改

在`ScreenManagement.js`中更新`screenList`状态变量，从5个大屏对象扩展为8个：
- 保留原有5个大屏，并添加P1-P5标识
- 新增城市信息P6、科技奖类P7、紧急播报P8三个大屏对象

### 3.2 界面组件更新

- 更新大屏列表页面的筛选下拉菜单选项
- 在`renderScreenContent`函数中添加新大屏类型的处理逻辑
- 为每个新大屏创建独立的渲染函数：
  - `renderCityInformation()`: 城市信息大屏渲染
  - `renderTechAwardScreen()`: 科技奖类大屏渲染
  - `renderEmergencyScreen()`: 紧急播报大屏渲染

### 3.3 布局调整

- 日常版大屏：保持原有9个模块布局
- 城市信息大屏：采用7个模块的新布局，包含数据统计和监控模块
- 科技奖类大屏：采用7个模块的新布局，突出奖项数据可视化
- 紧急播报大屏：采用4个模块的简洁布局，重点突出紧急信息

## 4. 交互逻辑

- 用户可在大屏列表页面筛选查看不同类型的大屏
- 点击大屏可进入编辑模式，查看和修改大屏内容
- 不同类型大屏加载对应的模块和布局
- 紧急播报大屏采用醒目的红色主题，提升视觉警示效果

## 5. 数据流向

1. 初始化时加载大屏列表数据
2. 用户选择大屏类型进行筛选
3. 根据选择的大屏类型渲染对应的大屏内容
4. 每个大屏模块加载并显示相应的数据

## 6. 异常处理

- 如果大屏数据加载失败，显示默认的空状态提示
- 对于新添加的大屏模块，提供默认的模拟数据，确保界面正常显示
- 在紧急播报大屏中，确保信息能够及时更新和显示

## 7. 后续优化建议

- 为各大屏模块添加详细的数据配置选项
- 支持大屏模板的保存和快速应用
- 增强紧急播报大屏的实时更新能力
- 添加大屏预览功能，便于在编辑前查看效果

---

文档版本：v1.1
修改日期：2025-11-06