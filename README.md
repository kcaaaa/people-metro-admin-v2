# 人民城轨2.0运营管理平台

## 项目简介

人民城轨2.0运营管理平台是一个专为中国轨道交通行业数字化转型打造的数据可视化平台。系统提供实时数据监控、场景管理、报表统计等功能，帮助运营人员高效掌握平台数据。

## 技术栈

- React 17
- Ant Design 4.24
- ECharts 5.4
- Moment.js

## 功能模块

- 数据管理
- 数据可视化
- 用户管理
- 运营分析
  - **情景管理**（新增Excel导出功能）
  - 报表统计
  - 行为分析
- 日志管理
- 展示管理
- 系统配置
- 权限管理

## 快速开始

1. 克隆项目
```bash
git clone https://github.com/yourusername/people-metro-admin-v2.git
cd people-metro-admin-v2
```

2. 安装依赖
```bash
npm install
npm run setup
```

3. 启动开发服务器
```bash
npm start
```

4. 访问系统
打开浏览器访问 http://localhost:8000

## 情景管理功能说明

**情景管理**模块用于配置和管理数据展示场景，支持自定义大屏组合和播放规则。

### 功能特性
- **实时数据编辑** - 1:1还原Figma设计效果
- **可视化编辑** - 拖拽模式直接编辑布局
- **实时预览** - 实时预览修改效果
- **自动发布** - 更新后自动发布模板配置

### 主要功能
- **可视化编辑器** - 通过实时编辑器直接编辑配置，提供丰富的功能
- **多屏支持** - 支持标准屏、横版屏、竖版屏等多种屏幕比例
- **场景列表管理** - 查看场景、新建/停止场景
- **模板配置** - 可视化模板配置，支持数据导入、导出统计等
- **实时数据同步** - 自动更新、同步场景模板配置
- **运行状态监控** - 系统指标、模板状态、API调用状态监控

### 最近更新
- **Excel导出功能** - 新增场景数据导出为CSV格式，便于数据备份和离线分析
- **代码兼容性优化** - 修复情景管理页面显示错误，增强代码健壮性和浏览器兼容性，优化导出功能的错误处理机制

### 使用说明
1. 登录系统后台
2. 进入左侧菜单**运营分析** > **情景管理**
3. 点击右上角**创建**按钮
4. 通过可视化编辑器进行场景配置和模板编辑
5. 查看详细说明
   - [情景可视化编辑使用指南.md](./documentation/7-demo/情景可视化编辑使用指南.md)
   - [DEMO演示指南.md](./DEMO演示指南.md)
   - [情景管理Demo使用说明.md](./documentation/7-demo/情景管理Demo使用说明.md)

### 注意事项
在**演示版本**中可能无法显示真实数据和交互效果，请以实际部署版本为准。

## 构建部署

1. 构建项目
```bash
npm run build
```

2. 部署 GitHub Pages
```bash
npm run deploy
```

3. 使用自动部署脚本
项目提供了完整的GIT部署脚本，位于`product-description/deployment/GIT部署脚本文件.bat`，支持环境检查、代码拉取、依赖安装、项目构建、自动部署到GitHub Pages或生产环境，以及部署验证。

4. 部署注意事项
   - 确保Node.js版本>=14.0.0
   - 确保npm版本>=6.0.0
   - 构建前请确保所有依赖已正确安装
   - 生产环境部署前建议进行完整的功能测试

## 文档管理
项目包含完整的文档体系，存放在`product-description`目录下：

- **功能设计文档** - 详细描述每个功能模块的设计细节和实现方案
- **功能开发问题记录** - 记录开发过程中遇到的问题和解决方案
- **全局UI设计文档** - 包含UI设计规范、组件样式和交互设计
- **部署文档** - 包含GIT部署脚本和部署问题记录
- **系统说明文档** - 系统架构、技术栈和依赖关系说明
- **总体需求文档** - 项目整体需求分析和功能规划

- [文档目录结构](./documentation/README.md) - 文档目录结构和使用指南

文档目录下，包含以下主要文档：
- **安装文档** - 安装部署指导文档
- **功能文档** - 产品功能列表说明
- **设计文档** - UI设计、交互设计和数据模型
- **实现文档** - 开发实现说明文档
- **部署文档** - 部署指南和说明
- **编码规范** - 前端开发要求和代码规范
- **演示文档** - 项目演示说明
- **图片资源** - 文档中使用的图片资源

## 目录结构

```
people-metro-admin-v2/
├── js/                # 源代码目录
│   ├── components/    # 组件库
│   ├── pages/        # 页面组件
│   ├── utils/        # 工具函数
├── vendor/           # 第三方库
│   ├── js/          # JavaScript 库
│   ├── css/         # CSS 文件
├── index.html       # 入口文件
├── product-description/ # 产品说明文档
│   ├── feature-design/ # 功能设计文档
│   ├── ui-design/   # UI设计文档
│   ├── deployment/  # 部署相关文档和脚本
│   ├── system-overview.md # 系统说明文档
│   ├── requirements.md # 总体需求文档
```

## 开发规范

### 编码规范

- 使用 ES6+ 语法
- 遵循团队代码风格
- 使用 React Hooks 管理状态
- 严格遵循 Ant Design 设计规范

### 分支管理

- main: 主分支，用于发布版本
- develop: 开发分支
- feature/*: 功能分支
- hotfix/*: 修复分支

## 贡献指南

1. Fork 项目
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交修改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 提交 Pull Request

## 许可证

MIT License

