# 展会管理功能实现说明

## 功能概述

展会管理功能允许管理员创建和管理展会信息，并与直播管理功能进行关联。当配置了展会的直播链接后，该直播将在直播管理模块中显示为展会直播类型。

## 实现内容

### 1. 展会管理页面

- **页面路径**：`/exhibition/management`
- **主要功能**：
  - 展会列表展示
  - 新增展会
  - 编辑展会
  - 删除展会
  - 配置展会直播链接

### 2. 数据结构

展会数据存储在 localStorage 中的 `exhibitionList` 键下，每条展会数据包含以下字段：

```javascript
{
  id: string,           // 展会ID
  name: string,         // 展会名称
  location: string,     // 展会地点
  startTime: string,    // 开始时间 (YYYY-MM-DD HH:mm:ss)
  endTime: string,      // 结束时间 (YYYY-MM-DD HH:mm:ss)
  image: string,        // 展馆图片URL
  status: string,       // 状态 (未开始/进行中/已结束)
  description: string,  // 描述
  liveLink: string      // 直播链接
}
```

### 3. 组件实现

- **ExhibitionManagement.js**：展会管理主组件
  - 实现展会CRUD操作
  - 表单验证
  - 数据持久化存储
  - 事件通知机制

### 4. 与直播管理的关联

- LiveManagement.js 组件通过以下方式与展会管理关联：
  - 监听 `exhibitionListChanged` 事件以实时更新展会列表
  - 从 localStorage 读取展会数据
  - 在创建展会类型直播时提供展会下拉选择

## 使用说明

1. 在左侧导航菜单中点击「展会运营」->「展会管理」进入展会管理页面
2. 点击「新增展会」按钮，填写展会信息并保存
3. 在展会列表中可以编辑或删除现有展会
4. 配置展会直播链接后，在直播管理中创建展会类型直播时，可以选择对应的展会

## 技术实现细节

### 数据持久化

使用 localStorage 存储展会数据，确保页面刷新后数据不丢失：

```javascript
// 保存展会列表到localStorage
localStorage.setItem('exhibitionList', JSON.stringify(exhibitionList));

// 从localStorage读取展会列表
const exhibitionList = JSON.parse(localStorage.getItem('exhibitionList') || '[]');
```

### 组件间通信

通过自定义事件实现展会管理和直播管理组件之间的通信：

```javascript
// 展会数据变更时触发事件
window.dispatchEvent(new Event('exhibitionListChanged'));

// 在直播管理组件中监听事件
window.addEventListener('exhibitionListChanged', loadExhibitions);
```

### 表单验证

实现了以下表单验证规则：
- 展会名称、地点、开始时间、结束时间为必填项
- 结束时间必须晚于开始时间
- 图片上传限制 (jpg/png格式，最大50MB)

## 注意事项

1. 展会状态会根据当前时间自动更新
2. 直播管理页面会自动同步展会管理页面的更新
3. 请确保直播链接格式正确，以保证直播功能正常使用

## 后续优化建议

1. 添加展会搜索和筛选功能
2. 实现批量删除和导出功能
3. 优化图片上传体验，添加预览功能
4. 增加展会统计和数据分析功能